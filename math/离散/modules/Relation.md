# 关系：等价关系 / 划分 / 商集 / 同余（Relation）

## 1. 一句话
- 等价关系把“哪些元素视为同一个”形式化；商集把等价类当作新元素；同余是“与运算相容的等价关系”，它让商对象仍然能做运算。

## 2. 二元关系（relation）
- 在集合 `X` 上，一个**二元关系**就是 `R ⊆ X×X`。
- 记号：`(x,y)∈R` 常写作 `x R y`。

## 3. 等价关系（equivalence relation）
`~` 是 `X` 上的等价关系，如果满足：
- **自反**：`x~x`
- **对称**：`x~y => y~x`
- **传递**：`x~y, y~z => x~z`

### 3.1 等价类与划分
- **等价类**：`[x] = {y∈X | y~x}`
- **划分（partition）**：把 `X` 分成若干不交非空块，其并为 `X`。

核心事实（强烈建议背下来）：
- 等价关系 ↔ 划分（一一对应）  
  - 给定 `~`，等价类集合 `{[x]}` 构成一个划分  
  - 给定划分 `{B_i}`，定义 `x~y` 当且仅当它们在同一块 `B_i`，得到等价关系

## 4. 商集（quotient set）
给定等价关系 `~`，定义商集：
- `X/~ := { [x] | x∈X }`

投影映射：
- `π: X -> X/~`，`π(x)=[x]`

直觉：商集就是“把同一类的元素压成一个点”。

## 5. 同余（congruence）：让商上还能做运算
仅有等价关系还不够：如果你想在 `X/~` 上定义运算（比如把 `[a]` 与 `[b]` 相乘），你必须保证“换代表元不改变结果所在的等价类”。

### 5.1 通用说法（适用于任何代数结构）
设 `X` 上有一个二元运算 `*`。等价关系 `~` 称为对 `*` 的**同余**，如果
- `a~a'` 且 `b~b'`  推出  `a*b ~ a'*b'`

这条性质保证运算在商集上**良定义**：
- 定义 `[a] * [b] := [a*b]` 时不依赖代表元的选择

## 6. 群、环里同余长什么样（你做题最常用的落地）
### 6.1 群：同余 ⇔ 正规子群
给定群 `G` 与正规子群 `N ⊲ G`，定义
- `a ~ b` 当且仅当 `a^{-1}b ∈ N`

则 `~` 是与群运算相容的同余关系，商集 `G/~` 就是商群 `G/N`（元素就是陪集）。

反过来：群上的任意同余关系都来自某个正规子群（把 `e` 的等价类看成 `N`）。

### 6.2 环：同余 ⇔ 理想
给定环 `R` 与理想 `I`，定义
- `a ~ b` 当且仅当 `a-b ∈ I`

则 `~` 与 `+`、`×` 都相容，商集 `R/~` 就是商环 `R/I`（元素是加法陪集 `a+I`）。

## 7. 最小例子（把抽象变成可算的东西）
- `Z` 上的“模 `n` 同余”：`a~b` ⇔ `a-b` 被 `n` 整除  
  - 等价类：`[0],[1],...,[n-1]`
  - 商集：`Z/~` 就是 `Z/nZ`

## 8. 与其他模块的连接
- 商与陪集：见 `math/离散/modules/Quotient.md`
- 同态/核：核诱导同余关系，第一同构定理把它变成商对象：见 `math/离散/modules/Morphism.md` 与 `math/离散/modules/IsomorphismTheorems.md`
